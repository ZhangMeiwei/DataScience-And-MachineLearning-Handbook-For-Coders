# 矩阵

### 稀疏矩阵

对于那些零元素数目远远多于非零元素数目，并且非零元素的分布没有规律的矩阵称为稀疏矩阵（sparse ）。

人们无法给出稀疏矩阵的确切定义，一般都只是凭个人的直觉来理解这个概念，即矩阵中非零元素的个数远远小于矩阵元素的总数，并且非零元素没有分布规律。

由于稀疏矩阵中非零元素较少，零元素较多，因此可以采用只存储非零元素的方法来进行压缩存储。

由于非零元素分布没有任何规律，所以在进

行压缩存储的时侯需要存储非零元素值的同时还要存储非零元素在矩阵中的位置，即非零元素所在的行号和列号，也就是在存储某个元素比如 aij 的值的同时，还

需要存储该元素所在的行号 i 和它的列号 j，这样就构成了一个三元组 (i,j,aij) 的线性表。

三元组可以采用顺序表示方法，也可以采用链式表示方法，这样就产生了对稀疏矩阵的不同压缩存储方式。

a 、稀疏矩阵的顺序实现

若把稀疏矩阵的三元组线性表按顺序存储结构存储，则称为稀疏矩阵的三元组顺序表。

顺序表中除了存储三元组外，还应该存储矩阵行数、列数和总的非零元素数目，这样才能唯一的确定一个矩阵。

![](http://images.cnblogs.com/cnblogs_com/xiaosuo/DataStructure/37.jpg)

b 、稀疏矩阵的十字链表实现

十字链表结点分为三类 :

表结点，它由五个域组成，其中 i 和 j 存储的是结点所在的行和列，right 和 down 存储的是指向十字链表中该结点所有行和列的下一个结点的指针，v 用于存放元素值。

行头和列头结点，这类结点也有域组成，其中行和列的值均为零，没有实际意义，right 和 down 的域用于在行方向和列方向上指向表结点，next 用于指向下一个行或列的表头结点。

总表头结点，这类结点与表头结点的结构和形式一样，只是它的 i 和 j 存放的是矩阵的行和列数。

![](http://images.cnblogs.com/cnblogs_com/xiaosuo/DataStructure/38.jpg)

十字链表可以看作是由各个行链表和列链表共同搭建起来的一个综合链表，每个结点 aij 既是处在第 i 行链表的一个结点，同时也是处在第 j 列链表上的一个结点，就你是处在十字交叉路口上的一个结点一样，这就是十字链表的由来。

十字链表中的每一行和每一列链表都是一个循环链表，都有一个表头结点。

![](http://images.cnblogs.com/cnblogs_com/xiaosuo/DataStructure/39.jpg)

## 协方差

统计学里最基本的概念就是样本的均值、方差、标准差。首先，我们给定一个含有 n 个样本的集合，下面给出这些概念的公式描述：

均值：[![clip_image00](http://images.cnitblog.com/blog/407700/201307/10144505-ccd5b875942c4d1ba4af611f444a1367.gif)](http://images.cnitblog.com/blog/407700/201307/10144505-43ba8d98e8114d1cbf7b2f0e04e4c93d.gif)

标准差：[![imag](http://images.cnitblog.com/blog/407700/201307/10144506-96f76b2cb9d746daaa6172ff229f101f.png)](http://images.cnitblog.com/blog/407700/201307/10144505-989f89f46e8c435d87117885e7e7dcf1.png)

方差：[![imag](http://images.cnitblog.com/blog/407700/201307/10144506-f1758eb5a7444f56ba1a8cbef53b32ab.png)](http://images.cnitblog.com/blog/407700/201307/10144506-5731fbab54b84b73b333e1aa879b1c08.png)

均值描述的是样本集合的中间点，它告诉我们的信息是有限的，而标准差给我们描述的是样本集合的各个样本点到均值的距离之平均。

以这两个集合为例，[0, 8, 12, 20]和[8, 9, 11, 12]，两个集合的均值都是 10，但显然两个集合的差别是很大的，计算两者的标准差，前者是 8.3 后者是 1.8，显然后者较为集中，故其标准差小一些，标准差描述的就是这种 “ 散布度 ”。之所以除以 n-1 而不是 n，是因为这样能使我们以较小的样本集更好地逼近总体的标准差，即统计上所谓的 “ 无偏估计 ”。而方差则仅仅是标准差的平方。

标准差和方差一般是用来描述一维数据的，但现实生活中我们常常会遇到含有多维数据的数据集，最简单的是大家上学时免不了要统计多个学科的考试成绩。面对这样的数据集，我们当然可以按照每一维独立的计算其方差，但是通常我们还想了解更多，比如，一个男孩子的猥琐程度跟他受女孩子的欢迎程度是否存在一些联系。协方差就是这样一种用来度量两个随机变量关系的统计量，我们可以仿照方差的定义：

[![clip_image002[]](http://images.cnitblog.com/blog/407700/201307/10144507-9fa45afa80ee4b76929feb47373977ca.gif)](http://images.cnitblog.com/blog/407700/201307/10144506-b32b7402c2f84e15b7f73685fc6d1e3c.gif)

来度量各个维度偏离其均值的程度，协方差可以这样来定义：

[![clip_image002[]](http://images.cnitblog.com/blog/407700/201307/10144507-318040d3955c47f5a2bdd098974bcc79.gif)](http://images.cnitblog.com/blog/407700/201307/10144507-8233dd144e8a47f6b5b105af5cd931a9.gif)

协方差的结果有什么意义呢？如果结果为正值，则说明两者是正相关的（从协方差可以引出 “ 相关系数 ” 的定义），也就是说一个人越猥琐越受女孩欢迎。如果结果为负值， 就说明两者是负相关，越猥琐女孩子越讨厌。如果为 0，则两者之间没有关系，猥琐不猥琐和女孩子喜不喜欢之间没有关联，就是统计上说的 “ 相互独立 ”。

从协方差的定义上我们也可以看出一些显而易见的性质，如：

[![clip_image002[1]](http://images.cnitblog.com/blog/407700/201307/10144508-de1a2bbc36f5447bb83cedc30a4207ef.gif)](http://images.cnitblog.com/blog/407700/201307/10144507-4e21ac8a7f8c4346bea73cec6ddf0aec.gif)

[![clip_image002[1]](http://images.cnitblog.com/blog/407700/201307/10144508-5c9fa8d896bb4d3e916e6f1df35e0cc4.gif)](http://images.cnitblog.com/blog/407700/201307/10144508-39a6255a1faf43c38854c5427ddb4e86.gif)

### 协方差矩阵

前面提到的猥琐和受欢迎的问题是典型的二维问题，而协方差也只能处理二维问题，那维数多了自然就需要计算多个协方差，比如 n 维的数据集就需要计算[![clip_image002](http://images.cnitblog.com/blog/407700/201307/10144508-5eca8ee861d548e3ba46cf773c9259bd.gif)](http://images.cnitblog.com/blog/407700/201307/10144508-45b7889a80394aafbb6e9547fd5e8e98.gif)个协方差，那自然而然我们会想到使用矩阵来组织这些数据。给出协方差矩阵的定义：

![clip_image002[1](http://images.cnitblog.com/blog/407700/201307/10144509-bec22c4249954693b62d071e7d92e3e8.gif)](http://images.cnitblog.com/blog/407700/201307/10144509-2f98f20d3df244608a83176b3f2861d1.gif)

这个定义还是很容易理解的，我们可以举一个三维的例子，假设数据集有三个维度，则协方差矩阵为：

[![clip_image002[2]](http://images.cnitblog.com/blog/407700/201307/10144510-0e0bffef1f884dbfb984ba798fe01a94.gif)](http://images.cnitblog.com/blog/407700/201307/10144509-0eed1ade7697461193cf810425e3e2e5.gif)

可见，协方差矩阵是一个对称的矩阵，而且对角线是各个维度的方差。

# 马尔科夫模型

## HMM

**隐马尔可夫模型**（Hidden Markov Model ， HMM）是[统计](http://baike.baidu.com/view/8163.htm)[模型](http://baike.baidu.com/view/96500.htm)，它用来描述一个含有隐含未知参数的[马尔可夫过程](http://baike.baidu.com/view/163499.htm)。其难点是从可观察的参数中确定该过程的隐含参数。然后利用这些参数来作进一步的分析，例如[模式识别](http://baike.baidu.com/view/14685.htm)。


方阵的行列式定义如下：

- $1$阶方阵的行列式为该元素本身
- $n$阶方阵的行列式等于它的任一行或者列的各元素与其对应的代数余子式乘积之和。

## 矩阵

## 矩阵运算

### 矩阵模型

考虑某个随机过程$\pi$，它的状态有$n$个，用$1 \sim n$来表示。假设当前时刻$t$处于$i$状态下，那么它在$t+1$时刻位于$j$状态的概率为$P(i,j)=P(j|i)$，即状态转移的概率只会依赖于前一个状态。

任何一个矩阵模型，即转移概率模型都会达到一种平稳分布的状态，即

$$
lim_{n \to \infty}P_{ij}^{n}=\pi(j) \\
lim_{n \to \infty}P^n = 
\begin{bmatrix}  
\pi(1) &  \pi(2)  & \dots & \pi(n)\\ 
    \pi(1) &  \pi(2)  & \dots & \pi(n)\\ 
    \vdots & \vdots & \ddots & \vdots
 \end{bmatrix}  \quad
$$

线性方程$xP=x$的非负且唯一解即是$\pi$。

### 矩阵乘法

$A$为$m*s$阶的矩阵，$B$为$s*n$阶的矩阵，那么，$C=A*B$是$m*n$阶的矩阵，其中：

$c_{ij}=\sum_{k=1}^sa_{ik}b_{kj}$

$A$为$m*s$阶的矩阵，$B$为$s*1$的列向量，则$Ax$为$m*1$的列向量，则$Ax$为$m*1$的列向量，记$\vec {y} = A* \vec x$。由于$n$维列向量和$n$维空间的点一一对应，上式实际给出了从$n$维空间的点到$m$维空间点的线性变换。

### 矩阵的秩

在$m*n$矩阵$A$中，任取$k$行$k$列，不改变这$k^2$个元素在$A$中的次序，得到$k$阶方阵，称为矩阵$A$的$k$阶子式。显然，$m*n$矩阵$A$的$k$阶子式有$C_m^kC_n^k$个。假设在矩阵$A$中有一个不等于0的$r$阶子式$D$，并且所有$r+1$阶子式（如果存在的话）全部等于0，那么$D$称为矩阵$A$的最高阶非零子式，$r$称为矩阵$A$的秩，记作$R(A)=r$。

$$
\left\{ 
\begin{array}{c}
a_{11}x_1+a_{12}x_2+ \dots + +a_{1n}x_n=b_1\\ 
a_{11}x_1+a_{12}x_2+ \dots + +a_{1n}x_n=b_1\\ 
\dots \\
a_{11}x_1+a_{12}x_2+ \dots + +a_{1n}x_n=b_1\\ 
\end{array}
\right.
\to Ax=b
$$

对于$n$元线性方程组$Ax=b$：

- 无解的充要条件是$R(A)<R(A,b)$
- 有唯一解的充要条件是$R(A)=R(A,b)=n$


- 有无限多解的充要条件是$R(A)=R(A,b)<n$

## 向量组

### 向量组等价

向量$b$能由向量组$A:a_1,a_2,\dots,a_m$线性表示的充要条件是矩阵$A=(a_1,a_2,\dots,a_m)$的秩等于矩阵$B=(a_1,a_2,\dots,a_m,b)$的秩。设有两个向量组$A:a_1,a_2,\dots,a_m$以及$B:b_1,b_2,\dots,b_n$，若$B$组的向量都能由向量组$A$线性表示，则称向量组$B$能由向量组$A$线性表示。若向量组$A$与向量组$B$能够相互线性表示，则称两个向量组等价。如果两个向量组等价，则存在矩阵$K$:系数

$$
(b_1 b_2 \dots b_n) = (a_1 a_2 \dots a_n) 
\begin{bmatrix}  
k_{11} &  k_{12}  & \dots & k_{1n}\\ 
   k_{21} &  k_{22}  & \dots & k_{2n}\\ 
    \vdots & \vdots & \ddots & \vdots
 \end{bmatrix}  \quad
$$

向量组$B$能由向量组$A$线性表示的充要条件是矩阵$A=(a_1,a_2,\dots,a_m)$的秩等于矩阵$(A,B)=(a_1,a_2,\dots,a_m,b_1,b_2,\dots,b_n)$的秩，即：$R(A)=R(A,B)$。

### 范数

**范数**，是具有“长度”概念的函数。在[线性代数](http://baike.baidu.com/view/32243.htm)、[泛函分析](http://baike.baidu.com/view/40657.htm)及相关的数学领域，范函是一个函数，其为[矢量空间](http://baike.baidu.com/view/5845387.htm)内的所有矢量赋予非零的正**长度**或**大小**。半范数反而可以为非零的矢量赋予零长度。

（1）0范数：表示向量中非零元素的个数。

（2）1范数：表示向量中各个元素的绝对值之和：

$$
||x||_1 = \sum_{i=1}^m|x_i|=|x_1|+|x_2|+\dots+|x_m|
$$

（3）2范数：也称为Euclidean范数，或者称为Frobenius范数。相当于求取距离：

$$
||x||_2=(|x_1|^2+|x_2|^2+\dots+|x_m|^2)^{1/2}
$$

（4）无穷范数：也称为极大范数：

$$
||x||_{\infty}=max(|x_1|,|x_2|,\dots,|x_m|)
$$

（5）$P$范数，也称为Holder范数：

$$
||x||_p=(\sum_{i=1}^{m}|x_i|^p)^{1/p}
$$

可以看出，当$p=2$时候，$P$范数与Euclidean范数完全等价。另外，无穷范数是$p$范数的极限形式。

## 特征值与特征变换

### 正交阵

如果$n$阶矩阵$A$满足$A^TA=I$，则称$A$为正交矩阵，简称为正交阵。$A$成为正交阵的充要条件是$A$的列（行）向量都是单位向量，且两两正交。$Ax$称作正交变换，注意，正交变换不改变向量长度。

### 特征值与特征向量

$A$是$n$阶矩阵，如果存在数$\lambda$和$n$维非0列向量$x$满足$Ax=\lambda x$，那么，数$\lambda$称为$A$的特征值，$x$称为$A$的对应于特征值$\lambda$的特征向量。假设$n$阶矩阵$A=(a_{ij})$的特征值为$\lambda_1,\lambda_2,\dots,\lambda_n$，则

$$
\lambda_1+\lambda_2+,\dots,+\lambda_n=a_{11}+a_{22}+\dots+a_{nn} \\
\lambda_1 \lambda_2 \dots \lambda_n = |A|
$$

矩阵$A$主行列式的元素和，称作矩阵$A$的迹。

并且不同特征值对应的特征向量，是线性无关的。

#### 对称阵

实对称阵的特征值是实数，因此实对称阵的特征向量可以取实向量。并且实对称阵不同特征值的特征向量正交。令实对称矩阵为$A$，它的两个不同的特征值$\lambda_1,\lambda_2$对应的特征向量分别是$\mu_1,\mu_2$；这几个参数都是实数或者实向量。

得到的最终的结论为，假设$A$为$n$阶对称阵，则必有正交阵$P$，使得：

$$
P^{-1}AP=p^TAP=\Lambda
$$

其中$\Lambda$是以$A$的$n$个特征值为对角元的对角阵，该变换称为合同变换，$\Lambda$与$A$互为合同矩阵。

#### 正定阵

对于$n$阶方阵$A$，如果存在任意$n$阶向量$x$，都有$x^TAx>0$，则称$A$是正定阵。若条件变成了$x^TAx \ge 0$，则$A$称作半正定阵。对称阵$A$为正定阵，$A$的特征值都为整数，$A$的顺序主子式大于0，这三句话等价。

## 向量

向量偏导公式

$$
\frac{\partial A \vec x}{\partial \vec x}=A^T \\
\frac{\partial A \vec x}{\partial \vec x^T}=A \\
\frac{\partial (\vec x^T A)}{\partial \vec x}=A
$$

标量对向量的导数，$A$为$n*n$的矩阵，$x$为$n*1$的列向量，记$y=\vec x^T A \vec x$

同理可以得出

$$
\frac{\partial y}{\partial \vec x}=\frac{\partial(\vec x ^ T A \vec x)}{\partial \vec x}=(A^T + A) \vec x
$$

若$A$为对称阵，则有$\frac{\partial(\vec x ^ T A \vec x)}{\partial \vec x} = 2A \vec x$